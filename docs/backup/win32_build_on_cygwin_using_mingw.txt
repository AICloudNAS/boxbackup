How to build Box Backup on Win32 using Cygwin and MinGW
By Chris Wilson, 2007-05-26

(To read this document online with better formatting, browse to:
http://bbdev.fluffy.co.uk/trac/wiki/CompileWithMinGW)

Start by installing Cygwin on your Windows machine [http://www.cygwin.org].
Make sure to select the following packages during installation:

* Devel/gcc-mingw
* Devel/gcc-mingw-core
* Devel/gcc-mingw-g++
* Mingw/mingw-zlib

If you already have Cygwin installed, please re-run the installer and
ensure that those packages are installed.

Download OpenSSL from 
[http://www.openssl.org/source/openssl-0.9.7i.tar.gz]

Open a Cygwin shell, and unpack OpenSSL:

	tar xzvf openssl-0.9.7i.tar.gz

Configure OpenSSL for MinGW compilation, and build and install it:

	cd openssl-0.9.7i
	./Configure --prefix=/usr/i686-pc-mingw32/ mingw
	make
	make install

Download PCRE from 
[http://prdownloads.sourceforge.net/pcre/pcre-6.3.tar.bz2?download]

Open a Cygwin shell, and unpack PCRE:

	tar xjvf pcre-6.3.tar.bz2

Configure PCRE for MinGW compilation, and build and install it:
	
	cd pcre-6.3
	export CFLAGS="-mno-cygwin"
	./configure
	make winshared
	cp .libs/libpcre.a .libs/libpcreposix.a /usr/lib/mingw
	cp pcreposix.h /usr/include/mingw

Now unpack the Box Backup sources, enter the source directory,
and configure like this:

	./infrastructure/mingw/configure.sh
	make

